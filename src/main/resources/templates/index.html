<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<head>
    <meta charset="UTF-8">
    <title>Liftable</title>
    <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" th:href="@{/css/global-styles.css}" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 62px;
            background-color: #0e0e10;
            overflow: hidden;
            white-space: nowrap;
            z-index: 999;
        }
        img {
            width: 100%;
        }
        .sidebar.expanded {
            width: 200px;
        }
        .sidebar .nav-link {
            align-items: center;
        }
        .sidebar a {
            text-decoration: none;
            color: #fff;
            display: none;
            margin-left: 10px;
        }
        .sidebar.expanded a {
            display: inline;
        }
        #accreditation a {
            text-decoration: none;
            font-size: 8px;
            color: #a8a8a8;
            width: 80%;
        }
    </style>
</head>
<body>
<!-- Consider Scrollsby (it's a neat feature, although not important)-->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<div th:replace="~{fragments/sidebar :: sidebar}"></div>

<div class="container-fluid main-content d-flex flex-column">
    <div class="row">
        <div class="col">
            <div id="resultsContainer" class="row px-2">
                <div th:if="${names != null}" id="searchContainer" class="col-2 px-1">
                    <div th:replace="~{fragments/search :: search}"></div>
                </div>
                <div th:if="${lifter != null}" id="dataContainer" class="col-10 px-1 d-flex flex-wrap">
                    <div th:replace="~{fragments/details :: details}"></div>
                </div>
            </div>

            <div th:if="${filters != null}" id="chartContainer" class="row px-1 py-2">
                <div th:replace="~{fragments/chart-builder :: chart-builder}"></div>
            </div>

            <div id="extrasContainer" class="row">
                <div id="showdownContainer" class="col-6 px-5">
                    <div th:replace="~{fragments/showdown :: showdown}"></div>
                </div>
                <div id="regionsContainer" class="col-6 px-5">
                    <div th:replace="~{fragments/regional-rankings :: regional-rankings}"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12" style="flex-grow:1;"></div>

    <div id="accreditation" class="row">
        <div class="col-4"></div>
        <div class="col-2 d-flex align-items-center justify-content-center">
            <button class="btn icon-button justify-content-center"
                    href="https://www.openpowerlifting.org/" target="_blank">
                <img th:src="@{/account-icon.png}" alt="OPEN POWERLIFTING">
            </button>
        </div>
        <div class="col-2 d-flex align-items-center justify-content-center">
            <a href="https://www.openpowerlifting.org/" target="_blank">THANK YOU OPEN POWERLIFTING FOR
                PROVIDING THE DATA FOR USE IN THIS PROJECT!</a>
        </div>
        <div class="col-4"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
<script type="text/javascript" th:src="@{/js/charts.js}"></script>
<!--<script type="text/javascript" th:src="@{/js/utils.js}"></script>-->
<script>
    function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle("expanded");
    }
</script>
</body>
</html>
