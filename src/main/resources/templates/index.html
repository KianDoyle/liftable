<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<head>
    <meta charset="UTF-8">
    <title>Liftable</title>
    <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!--    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>-->
    <link type="text/css" th:href="@{/css/global-styles.css}" rel="stylesheet">
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- Main Content Grid -->
<div class="container-fluid justify-content-center">
    <div class="col-12" style="height: 100px;"></div>
    <!-- First Row: Search, Lifter Info, Lifter Info JSON (Stacked vertically in one column) -->
    <div id="resultsContainer" class="col-12 d-flex justify-content-between">
        <div id="searchContainer" class="col-md-2 px-1"></div>
        <div id="dataContainer" class="col-md-10 px-1"></div>
    </div>

    <!-- Second Row: Showdown on the left and Regional Rankings on the right -->
    <div id="extrasContainer" class="col-12 d-flex justify-content-between">
        <div id="showdownContainer" class="col-md-6 px-5">
            <div th:replace="~{fragments/showdown :: showdown}"></div>
        </div>
        <div id="regionsContainer" class="col-md-6 px-5">
            <div th:replace="~{fragments/regional-rankings :: regional-rankings}"></div>
        </div>
    </div>

    <div class="col-12" style="height: 200px;"></div>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" th:src="@{/js/utils.js}"></script>
<!--    // Card glow-->
<!--    const delay = ms => new Promise(res => setTimeout(res, ms));-->

<!--    document.getElementById('compare-button').onclick = async () => {-->
<!--        const card = document.getElementById('showdown-card');-->
<!--        card.classList.add('highlight');-->
<!--        await delay(2800);-->
<!--        card.classList.remove('highlight');-->
<!--    };-->
<!--    document.getElementById('regions-button').onclick = async () => {-->
<!--        const card = document.getElementById('regions-card');-->
<!--        card.classList.add('highlight');-->
<!--        await delay(2800);-->
<!--        card.classList.remove('highlight');-->
<!--    };-->

<!--    // charts-->
<!--    function drawChart(name) {-->
<!--        fetch(`/api/json/scatter/${name}`)  // Replace with your actual endpoint-->
<!--            .then(response => response.json())   // Parse the JSON data from the response-->
<!--            .then(jsonData => {-->
<!--            // Create the chart after the data is fetched-->
<!--                const ctx = document.getElementById('chart').getContext('2d');-->
<!--                new Chart(ctx, {-->
<!--                    type: 'scatter',-->
<!--                    data: {-->
<!--                        datasets: [{-->
<!--                            label: 'GLP Trends w/ BW', // Title of the chart-->
<!--                            data: jsonData.data, // Data points-->
<!--                            backgroundColor: 'purple', // Set the point color to purple-->
<!--                            borderColor: 'purple',-->
<!--                            borderWidth: 1,-->
<!--                            pointRadius: 5, // Size of the points-->
<!--                            pointHoverRadius: 7 // Hover effect size-->
<!--                        }]-->
<!--                    },-->
<!--                    options: {-->
<!--                        title: {-->
<!--                            display: true,-->
<!--                            text: 'GLP Trends w/ BW', // Chart Title-->
<!--                            fontSize: 18,-->
<!--                            fontColor: 'white' // Title text color-->
<!--                        },-->
<!--                        scales: {-->
<!--                            x: {-->
<!--                                type: 'linear', // Ensure that the x-axis is treated as a continuous scale-->
<!--                                position: 'bottom',-->
<!--                                title: {-->
<!--                                    display: true,-->
<!--                                    text: jsonData.labels.x, // x-axis label (Bodyweight)-->
<!--                                    fontColor: 'white' // Label color for x-axis-->
<!--                                },-->
<!--                                ticks: {-->
<!--                                    beginAtZero: false, // Disable starting from 0-->
<!--                                    fontColor: 'white' // Tick marks color-->
<!--                                }-->
<!--                            },-->
<!--                            y: {-->
<!--                                title: {-->
<!--                                    display: true,-->
<!--                                    text: jsonData.labels.y, // y-axis label (Goodlifts)-->
<!--                                    fontColor: 'white' // Label color for y-axis-->
<!--                                },-->
<!--                                ticks: {-->
<!--                                    fontColor: 'white' // Tick marks color-->
<!--                                }-->
<!--                            }-->
<!--                        },-->
<!--                        plugins: {-->
<!--                            legend: {-->
<!--                                labels: {-->
<!--                                    fontColor: 'white' // Legend text color-->
<!--                                }-->
<!--                            }-->
<!--                        }-->
<!--                    }-->
<!--                });-->
<!--            })-->
<!--                .catch(error => {-->
<!--                console.error('Error fetching data:', error);-->
<!--            });-->
<!--    };-->
<!--</script>-->

</body>
</html>
